# Проект: Получение данных с датчика погоды и сохранение в JSON

## Описание

Приложение предназначено для чтения данных с датчика погоды (например, WMT700) через COM-порт, их обработки и сохранения в файл формата JSON. Программа позволяет пользователю в реальном времени просматривать данные с датчика, проверять их корректность и сохранять результаты в файл для дальнейшего анализа.

## Основные функции

- **Чтение данных с COM-порта**: Программа автоматически определяет доступные COM-порты, обновляет их список и устанавливает подключение к выбранному порту.
- **Обработка данных**: Программа получает данные в ASCII-формате, преобразует их в значения скорости ветра и направления, проверяет корректность данных с помощью регулярного выражения.
- **Отображение данных**: Данные выводятся в текстовое поле в необработанном ASCII-формате и в удобочитаемом виде.
- **Запись данных в JSON**: Данные с датчика, включая время, название, скорость и направление ветра, записываются в JSON-файл для дальнейшего использования. Программа поддерживает добавление данных в существующий JSON-файл.
- **Настройка COM-порта**: Пользователь может выбирать скорость передачи данных и подключаться к разным COM-портам.

## Структура классов

### `MainWindow`

Основной класс, реализующий пользовательский интерфейс и логику работы с COM-портом.

#### Методы:

- `getAvailablePorts()`: Получение списка доступных COM-портов.
- `initComPort()`: Инициализация и настройка COM-порта.
- `updateComPorts()`: Обновление списка COM-портов.
- `readData()`: Чтение данных с COM-порта и их обработка.
- `isCorrectData()`: Проверка корректности данных с использованием регулярного выражения.
- `writeJSON()`: Запись данных в JSON.
- `translateASCII()`: Преобразование данных из ASCII-формата в структурированные значения.

### `classInformationSensor`

Класс для хранения и обработки данных с датчика.

#### Поля:

- `QDateTime time`: Время получения данных.
- `QString nameSensor`: Имя датчика.
- `float windSpeed`: Скорость ветра.
- `float windDirection`: Направление ветра.

#### Методы:

- Геттеры и сеттеры для всех полей.
- `classToString()`: Преобразование данных в строковый формат для отображения.

## Используемые библиотеки

- **Qt Serial Port**: Для работы с COM-портами.
- **QJson**: Для работы с JSON (чтение и запись).
- **QRegularExpression**: Для проверки корректности данных.

## Как запустить проект

1. Откройте проект в Qt Creator.
2. Соберите проект.
3. Подключите датчик погоды к одному из COM-портов.
4. Запустите приложение.
5. Выберите доступный COM-порт и настройте скорость передачи данных.
6. Наблюдайте за полученными данными в реальном времени и их сохранением в файл JSON.

## Файлы

- `mainwindow.h` / `mainwindow.cpp`: Логика основного окна приложения и взаимодействие с COM-портом.
- `classinformationsensor.h` / `classinformationsensor.cpp`: Реализация класса для хранения данных с датчика.

## Примечания

- Данные сохраняются в файл `sensor_data.json`, который расположен в одной директории с исполняемым файлом.
- Программа обновляет список доступных COM-портов каждые 5 секунд.
